{"version":3,"file":"usePrivacySettings.es.js","sources":["../../src/react/usePrivacySettings.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { useEffect, useState } from 'react';\nimport type { Handler } from 'mitt';\n\nimport type { PrivacySettings } from '../types/PrivacySettings';\nimport { AppBridgeBlock } from '../AppBridgeBlock';\n\nexport const usePrivacySettings = (appBridge: AppBridgeBlock) => {\n    const [privacySettings, setPrivacySettings] = useState<PrivacySettings>(appBridge.getPrivacySettings());\n\n    useEffect(() => {\n        const updateSettings: Handler<PrivacySettings> = (data) => setPrivacySettings({ ...privacySettings, ...data });\n\n        window.emitter.on('AppBridge:PrivacySettingsChanged', updateSettings);\n\n        return () => {\n            window.emitter.off('AppBridge:PrivacySettingsChanged', updateSettings);\n        };\n    }, [privacySettings]);\n\n    return privacySettings;\n};\n"],"names":["usePrivacySettings","appBridge","privacySettings","setPrivacySettings","useState","useEffect","updateSettings","data"],"mappings":";AAQa,MAAAA,IAAqB,CAACC,MAA8B;AAC7D,QAAM,CAACC,GAAiBC,CAAkB,IAAIC,EAA0BH,EAAU,oBAAoB;AAEtG,SAAAI,EAAU,MAAM;AACN,UAAAC,IAA2C,CAACC,MAASJ,EAAmB,EAAE,GAAGD,GAAiB,GAAGK,EAAA,CAAM;AAEtG,kBAAA,QAAQ,GAAG,oCAAoCD,CAAc,GAE7D,MAAM;AACF,aAAA,QAAQ,IAAI,oCAAoCA,CAAc;AAAA,IAAA;AAAA,EACzE,GACD,CAACJ,CAAe,CAAC,GAEbA;AACX;"}