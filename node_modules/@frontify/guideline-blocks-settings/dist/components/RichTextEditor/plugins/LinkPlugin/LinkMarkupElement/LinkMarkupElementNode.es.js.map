{"version":3,"file":"LinkMarkupElementNode.es.js","sources":["../../../../../../src/components/RichTextEditor/plugins/LinkPlugin/LinkMarkupElement/LinkMarkupElementNode.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { HTMLPropsAs, LinkRootProps, useElementProps } from '@udecode/plate';\nimport type { MouseEvent } from 'react';\nimport { TLinkElement } from '../types';\nimport { BlockStyles } from '../../styles';\nimport { LINK_PLUGIN } from '../id';\n\nconst useLink = (props: LinkRootProps): HTMLPropsAs<'a'> => {\n    const _props = useElementProps<TLinkElement, 'a'>({\n        ...props,\n        elementToAttributes: (element) => ({\n            href: element.url || element.chosenLink?.searchResult?.link || '',\n            target: element.target || '_blank',\n        }),\n    });\n\n    return {\n        ..._props,\n        // quick fix: hovering <a> with href loses the editor focus\n        onMouseOver: (event: MouseEvent) => {\n            event.stopPropagation();\n        },\n    };\n};\n\nexport const LinkMarkupElementNode = (props: LinkRootProps) => {\n    const htmlProps = useLink(props);\n    const { attributes, children } = props;\n\n    return (\n        <a {...attributes} href={htmlProps.href} target={htmlProps.target} style={BlockStyles[LINK_PLUGIN]}>\n            {children}\n        </a>\n    );\n};\n"],"names":["useLink","props","useElementProps","element","_b","_a","event","LinkMarkupElementNode","htmlProps","attributes","children","jsx","BlockStyles","LINK_PLUGIN"],"mappings":";;;;AAQA,MAAMA,IAAU,CAACC,OASN;AAAA,EACH,GATWC,EAAmC;AAAA,IAC9C,GAAGD;AAAA,IACH,qBAAqB,CAACE,MAAa;;AAAA;AAAA,QAC/B,MAAMA,EAAQ,SAAOC,KAAAC,IAAAF,EAAQ,eAAR,gBAAAE,EAAoB,iBAApB,gBAAAD,EAAkC,SAAQ;AAAA,QAC/D,QAAQD,EAAQ,UAAU;AAAA,MAAA;AAAA;AAAA,EAC9B,CACH;AAAA;AAAA,EAKG,aAAa,CAACG,MAAsB;AAChC,IAAAA,EAAM,gBAAgB;AAAA,EAC1B;AAAA,IAIKC,IAAwB,CAACN,MAAyB;AACrD,QAAAO,IAAYR,EAAQC,CAAK,GACzB,EAAE,YAAAQ,GAAY,UAAAC,EAAa,IAAAT;AAEjC,SACK,gBAAAU,EAAA,KAAA,EAAG,GAAGF,GAAY,MAAMD,EAAU,MAAM,QAAQA,EAAU,QAAQ,OAAOI,EAAYC,CAAW,GAC5F,UAAAH,EACL,CAAA;AAER;"}