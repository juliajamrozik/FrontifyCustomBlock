{"version":3,"file":"index.es.js","sources":["../../../../../src/components/RichTextEditor/plugins/LinkPlugin/index.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport type { CSSProperties } from 'react';\nimport { AppBridgeBlock } from '@frontify/app-bridge';\nimport { Plugin, PluginProps } from '@frontify/fondue';\nimport { createLinkPlugin as createPlateLinkPlugin, createPluginFactory } from '@udecode/plate';\n\nimport { CustomFloatingLink } from './FloatingLink/CustomFloatingLink';\nimport { LINK_PLUGIN } from './id';\nimport { LinkButton } from './LinkButton';\nimport { LinkMarkupElement } from './LinkMarkupElement';\nimport { isValidUrl } from './utils/url';\nimport { BlockStyles } from '../styles';\n\nexport const createLinkPlugin = (appBridge: AppBridgeBlock) =>\n    createPluginFactory({\n        ...createPlateLinkPlugin(),\n        renderAfterEditable: CustomFloatingLink,\n        options: {\n            isUrl: isValidUrl,\n            rangeBeforeOptions: {\n                matchString: ' ',\n                skipInvalid: true,\n                afterMatch: true,\n            },\n            triggerFloatingLinkHotkeys: 'command+k, ctrl+k',\n            appBridge,\n        },\n    })();\n\nexport type LinkPluginProps = PluginProps & { appBridge: AppBridgeBlock };\n\nexport class LinkPlugin extends Plugin {\n    private appBridge: AppBridgeBlock;\n    public styles: CSSProperties = {};\n    constructor(props?: LinkPluginProps, styles = BlockStyles[LINK_PLUGIN]) {\n        super(LINK_PLUGIN, {\n            button: LinkButton,\n            markupElement: new LinkMarkupElement(),\n            ...props,\n        });\n        this.styles = styles;\n        this.appBridge = props?.appBridge as AppBridgeBlock;\n    }\n\n    plugins() {\n        return [createLinkPlugin(this.appBridge)];\n    }\n}\n"],"names":["createLinkPlugin","appBridge","createPluginFactory","createPlateLinkPlugin","CustomFloatingLink","isValidUrl","LinkPlugin","Plugin","props","styles","BlockStyles","LINK_PLUGIN","LinkButton","LinkMarkupElement"],"mappings":";;;;;;;;AAca,MAAAA,IAAmB,CAACC,MAC7BC,EAAoB;AAAA,EAChB,GAAGC,EAAsB;AAAA,EACzB,qBAAqBC;AAAA,EACrB,SAAS;AAAA,IACL,OAAOC;AAAA,IACP,oBAAoB;AAAA,MAChB,aAAa;AAAA,MACb,aAAa;AAAA,MACb,YAAY;AAAA,IAChB;AAAA,IACA,4BAA4B;AAAA,IAC5B,WAAAJ;AAAA,EACJ;AACJ,CAAC,EAAE;AAIA,MAAMK,UAAmBC,EAAO;AAAA,EAGnC,YAAYC,GAAyBC,IAASC,EAAYC,CAAW,GAAG;AACpE,UAAMA,GAAa;AAAA,MACf,QAAQC;AAAA,MACR,eAAe,IAAIC,EAAkB;AAAA,MACrC,GAAGL;AAAA,IAAA,CACN,GANL,KAAO,SAAwB,IAO3B,KAAK,SAASC,GACd,KAAK,YAAYD,KAAA,gBAAAA,EAAO;AAAA,EAC5B;AAAA,EAEA,UAAU;AACN,WAAO,CAACR,EAAiB,KAAK,SAAS,CAAC;AAAA,EAC5C;AACJ;"}