import { getPluginOptions as c, focusEditor as f } from "@udecode/plate";
import { floatingButtonSelectors as n, floatingButtonActions as m } from "../components/FloatingButton/floatingButtonStore.es.js";
import { ELEMENT_BUTTON as a } from "../createButtonPlugin.es.js";
import { upsertButton as p } from "./upsertButton.es.js";
const S = (t) => {
  if (!t.selection)
    return;
  const { isUrl: o, forceSubmit: e } = c(t, a), i = n.url();
  if (!((o == null ? void 0 : o(i)) || e))
    return;
  const r = n.text(), s = n.buttonStyle(), u = n.newTab() ? void 0 : "_self";
  return m.hide(), p(t, {
    url: i,
    text: r,
    buttonStyle: s,
    target: u,
    isUrl: (l) => e || !o ? !0 : o(l)
  }), setTimeout(() => {
    f(t, t.selection ?? void 0);
  }, 0), !0;
};
export {
  S as submitFloatingButton
};
//# sourceMappingURL=submitFloatingButton.es.js.map
