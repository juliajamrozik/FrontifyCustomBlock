{"version":3,"file":"PageLinks.es.js","sources":["../../../../../../src/components/RichTextEditor/plugins/shared/LinkSelector/PageLinks.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { AppBridgeBlock, DocumentPage } from '@frontify/app-bridge';\nimport { LoadingCircle } from '@frontify/fondue';\nimport { ReactElement, useEffect, useState } from 'react';\nimport { InitiallyExpandedItems } from '../../LinkPlugin/FloatingLink/InsertLinkModal/types';\nimport { PageLink } from './PageLink';\n\ntype PageLinksProps = {\n    appBridge: AppBridgeBlock;\n    documentId: number;\n    selectedUrl: string;\n    onSelectUrl: (url: string) => void;\n    itemsToExpandInitially: InitiallyExpandedItems;\n};\n\nexport const PageLinks = ({\n    appBridge,\n    documentId,\n    selectedUrl,\n    onSelectUrl,\n    itemsToExpandInitially,\n}: PageLinksProps): ReactElement => {\n    const [pages, setPages] = useState<DocumentPage[]>([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const pagesArray = [...pages.values()];\n    const hasPages = !isLoading && pagesArray.length > 0;\n\n    useEffect(() => {\n        appBridge\n            .getDocumentPagesByDocumentId(documentId)\n            .then((_pages) => {\n                setPages(_pages);\n            })\n            .finally(() => {\n                setIsLoading(false);\n            });\n    }, []);\n\n    if (isLoading) {\n        return (\n            <div className=\"tw-flex tw-justify-center tw-p-4\">\n                <LoadingCircle />\n            </div>\n        );\n    }\n\n    return hasPages ? (\n        <>\n            {pagesArray.map((page) => {\n                return (\n                    <PageLink\n                        key={page.id}\n                        page={page}\n                        appBridge={appBridge}\n                        selectedUrl={selectedUrl}\n                        onSelectUrl={onSelectUrl}\n                        itemsToExpandInitially={itemsToExpandInitially}\n                    />\n                );\n            })}\n        </>\n    ) : (\n        <div className=\"tw-py-2 tw-px-2.5 tw-pl-7 tw-leading-5 tw-text-s tw-text-text-weak\">\n            This document does not contain any pages.\n        </div>\n    );\n};\n"],"names":["PageLinks","appBridge","documentId","selectedUrl","onSelectUrl","itemsToExpandInitially","pages","setPages","useState","isLoading","setIsLoading","pagesArray","hasPages","useEffect","_pages","jsx","LoadingCircle","Fragment","page","PageLink"],"mappings":";;;;AAgBO,MAAMA,IAAY,CAAC;AAAA,EACtB,WAAAC;AAAA,EACA,YAAAC;AAAA,EACA,aAAAC;AAAA,EACA,aAAAC;AAAA,EACA,wBAAAC;AACJ,MAAoC;AAChC,QAAM,CAACC,GAAOC,CAAQ,IAAIC,EAAyB,CAAE,CAAA,GAC/C,CAACC,GAAWC,CAAY,IAAIF,EAAS,EAAI,GACzCG,IAAa,CAAC,GAAGL,EAAM,OAAQ,CAAA,GAC/BM,IAAW,CAACH,KAAaE,EAAW,SAAS;AAanD,SAXAE,EAAU,MAAM;AACZ,IAAAZ,EACK,6BAA6BC,CAAU,EACvC,KAAK,CAACY,MAAW;AACd,MAAAP,EAASO,CAAM;AAAA,IAAA,CAClB,EACA,QAAQ,MAAM;AACX,MAAAJ,EAAa,EAAK;AAAA,IAAA,CACrB;AAAA,EACT,GAAG,CAAE,CAAA,GAEDD,sBAEK,OAAI,EAAA,WAAU,oCACX,UAAA,gBAAAM,EAACC,KAAc,EACnB,CAAA,IAIDJ,IACH,gBAAAG,EAAAE,GAAA,EACK,UAAWN,EAAA,IAAI,CAACO,MAET,gBAAAH;AAAA,IAACI;AAAA,IAAA;AAAA,MAEG,MAAAD;AAAA,MACA,WAAAjB;AAAA,MACA,aAAAE;AAAA,MACA,aAAAC;AAAA,MACA,wBAAAC;AAAA,IAAA;AAAA,IALKa,EAAK;AAAA,EAAA,CAQrB,EACL,CAAA,sBAEC,OAAI,EAAA,WAAU,sEAAqE,UAEpF,4CAAA,CAAA;AAER;"}