{"version":3,"file":"useEditorState.es.js","sources":["../../src/react/useEditorState.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { useEffect, useState } from 'react';\n\nimport type { AppBridgeBlock } from '../AppBridgeBlock';\nimport type { AppBridgeTheme } from '../AppBridgeTheme';\n\nexport const useEditorState = (appBridge: AppBridgeBlock | AppBridgeTheme): boolean => {\n    const [editorState, setEditorState] = useState(appBridge.getEditorState());\n\n    useEffect(() => {\n        const setFromEvent = () => setEditorState(appBridge.getEditorState());\n\n        const mutationObserver = new MutationObserver((mutationsList) => {\n            for (const mutation of mutationsList) {\n                if (mutation.attributeName === 'class') {\n                    setFromEvent();\n                }\n            }\n        });\n\n        mutationObserver.observe(document.body, { attributes: true });\n\n        return () => {\n            mutationObserver.disconnect();\n        };\n    }, []);\n\n    return editorState;\n};\n"],"names":["useEditorState","appBridge","editorState","setEditorState","useState","useEffect","setFromEvent","mutationObserver","mutationsList","mutation"],"mappings":";AAOa,MAAAA,IAAiB,CAACC,MAAwD;AACnF,QAAM,CAACC,GAAaC,CAAc,IAAIC,EAASH,EAAU,gBAAgB;AAEzE,SAAAI,EAAU,MAAM;AACZ,UAAMC,IAAe,MAAMH,EAAeF,EAAU,eAAgB,CAAA,GAE9DM,IAAmB,IAAI,iBAAiB,CAACC,MAAkB;AAC7D,iBAAWC,KAAYD;AACf,QAAAC,EAAS,kBAAkB,WACdH;IAErB,CACH;AAED,WAAAC,EAAiB,QAAQ,SAAS,MAAM,EAAE,YAAY,IAAM,GAErD,MAAM;AACT,MAAAA,EAAiB,WAAW;AAAA,IAAA;AAAA,EAEpC,GAAG,CAAE,CAAA,GAEEL;AACX;"}