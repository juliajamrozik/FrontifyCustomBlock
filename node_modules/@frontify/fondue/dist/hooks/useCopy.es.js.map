{"version":3,"file":"useCopy.es.js","sources":["../../src/hooks/useCopy.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { useCallback, useEffect, useState } from 'react';\n\nexport const useCopy = (resetAfterMS = 2000) => {\n    const [status, setStatus] = useState<'success' | 'error' | 'idle'>('idle');\n\n    const copy = useCallback(async (text: string) => {\n        setStatus('idle');\n        try {\n            await navigator.clipboard.writeText(text);\n            setStatus('success');\n        } catch {\n            setStatus('error');\n        }\n    }, []);\n\n    useEffect(() => {\n        let timeout: ReturnType<typeof setTimeout>;\n\n        if (resetAfterMS && (status === 'success' || status === 'error')) {\n            timeout = setTimeout(() => setStatus('idle'), resetAfterMS);\n        }\n        return () => {\n            if (resetAfterMS && (status === 'success' || status === 'error')) {\n                clearTimeout(timeout);\n            }\n        };\n    }, [status, resetAfterMS]);\n\n    return { copy, status };\n};\n"],"names":["useCopy","resetAfterMS","status","setStatus","useState","copy","useCallback","text","useEffect","timeout"],"mappings":";AAIa,MAAAA,IAAU,CAACC,IAAe,QAAS;AAC5C,QAAM,CAACC,GAAQC,CAAS,IAAIC,EAAuC,MAAM,GAEnEC,IAAOC,EAAY,OAAOC,MAAiB;AAC7C,IAAAJ,EAAU,MAAM;AACZ,QAAA;AACM,YAAA,UAAU,UAAU,UAAUI,CAAI,GACxCJ,EAAU,SAAS;AAAA,IAAA,QACrB;AACE,MAAAA,EAAU,OAAO;AAAA,IACrB;AAAA,EACJ,GAAG,CAAE,CAAA;AAEL,SAAAK,EAAU,MAAM;AACR,QAAAC;AAEJ,WAAIR,MAAiBC,MAAW,aAAaA,MAAW,aACpDO,IAAU,WAAW,MAAMN,EAAU,MAAM,GAAGF,CAAY,IAEvD,MAAM;AACT,MAAIA,MAAiBC,MAAW,aAAaA,MAAW,YACpD,aAAaO,CAAO;AAAA,IACxB;AAAA,EACJ,GACD,CAACP,GAAQD,CAAY,CAAC,GAElB,EAAE,MAAAI,GAAM,QAAAH;AACnB;"}