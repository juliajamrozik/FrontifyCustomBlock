{"version":3,"file":"getVerticalPositioning.es.js","sources":["../../../../src/components/Flyout/helpers/getVerticalPositioning.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\ntype VerticalPosition = 'top' | 'bottom';\n\nexport const getVerticalPositioning = <T extends HTMLElement>(\n    triggerRef: T | null,\n    overlayHeight: number,\n    offset: number,\n    bottomMargin: number,\n): { position: VerticalPosition; maxHeight: number } => {\n    let position: VerticalPosition = 'bottom';\n    let maxHeight = Infinity;\n\n    if (!triggerRef || !overlayHeight) {\n        return { position, maxHeight };\n    }\n\n    const { top: triggerTop, bottom: triggerBottom } = triggerRef.getBoundingClientRect();\n    const viewportHeight = window.visualViewport?.height ?? 0;\n    const spaceBelow = viewportHeight - triggerBottom - offset - bottomMargin;\n    const spaceAbove = triggerTop - offset;\n\n    if (spaceBelow < overlayHeight) {\n        position = spaceBelow < spaceAbove ? 'top' : 'bottom';\n    }\n\n    maxHeight = position === 'top' ? spaceAbove : spaceBelow;\n\n    return { position, maxHeight };\n};\n"],"names":["getVerticalPositioning","triggerRef","overlayHeight","offset","bottomMargin","_a","position","maxHeight","triggerTop","triggerBottom","spaceBelow","spaceAbove"],"mappings":"AAIO,MAAMA,IAAyB,CAClCC,GACAC,GACAC,GACAC,MACoD;AALjD,MAAAC;AAMH,MAAIC,IAA6B,UAC7BC,IAAY;AAEZ,MAAA,CAACN,KAAc,CAACC;AACT,WAAA,EAAE,UAAAI,GAAU,WAAAC;AAGvB,QAAM,EAAE,KAAKC,GAAY,QAAQC,MAAkBR,EAAW,yBAExDS,OADiBL,IAAA,OAAO,mBAAP,gBAAAA,EAAuB,WAAU,KACpBI,IAAgBN,IAASC,GACvDO,IAAaH,IAAaL;AAEhC,SAAIO,IAAaR,MACFI,IAAAI,IAAaC,IAAa,QAAQ,WAGrCJ,IAAAD,MAAa,QAAQK,IAAaD,GAEvC,EAAE,UAAAJ,GAAU,WAAAC;AACvB;"}