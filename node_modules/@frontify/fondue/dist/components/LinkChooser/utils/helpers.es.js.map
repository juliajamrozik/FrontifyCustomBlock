{"version":3,"file":"helpers.es.js","sources":["../../../../src/components/LinkChooser/utils/helpers.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { Key } from 'react';\nimport { ExtraSection } from '..';\nimport { CUSTOM_LINK_ID, DEFAULT_ICON, IconOptions } from '../LinkChooser';\nimport { defaultSection } from '../sections';\nimport { SearchResult } from '../types';\n\nexport const doesContainSubstring = (source: string, target: string, sections: ExtraSection[]): boolean =>\n    source.toLowerCase().includes(target.toLowerCase()) ||\n    [...sections, defaultSection].some((section) => section.title.toLowerCase() === source.toLowerCase());\n\nexport const getDefaultData = async (): Promise<SearchResult[]> =>\n    new Promise((resolve) =>\n        setTimeout(() => {\n            resolve([]);\n        }, 2000),\n    );\n\nexport const decoratedResults = (results: SearchResult[]) =>\n    results.map((item) => ({\n        ...item,\n        decorator: IconOptions[item.icon || DEFAULT_ICON],\n    }));\n\nexport const findSection = (sections: ExtraSection[], id: Key) => sections.find((section) => section.id === id);\n\nexport const isCustomLink = (link: SearchResult | null) =>\n    !link || (typeof link.id === 'string' && link.id.includes(CUSTOM_LINK_ID));\n\nexport const filterItems = (query: string, results: SearchResult[], section: ExtraSection[] = []): SearchResult[] =>\n    results.filter((item) => doesContainSubstring(item.title, query, section));\n\nexport const prependHttps = (link: string) => {\n    if (!link.match(/https?:\\/\\//) && !link.includes('mailto:') && !link.includes('tel:')) {\n        return `https://${link}`;\n    }\n    return link;\n};\n"],"names":["doesContainSubstring","source","target","sections","defaultSection","section","getDefaultData","resolve","decoratedResults","results","item","IconOptions","DEFAULT_ICON","findSection","id","isCustomLink","link","CUSTOM_LINK_ID","prependHttps"],"mappings":";;AAQa,MAAAA,IAAuB,CAACC,GAAgBC,GAAgBC,MACjEF,EAAO,YAAA,EAAc,SAASC,EAAO,aAAa,KAClD,CAAC,GAAGC,GAAUC,CAAc,EAAE,KAAK,CAACC,MAAYA,EAAQ,MAAM,YAAY,MAAMJ,EAAO,YAAA,CAAa,GAE3FK,IAAiB,YAC1B,IAAI;AAAA,EAAQ,CAACC,MACT,WAAW,MAAM;AACb,IAAAA,EAAQ,CAAE,CAAA;AAAA,KACX,GAAI;AACX,GAESC,IAAmB,CAACC,MAC7BA,EAAQ,IAAI,CAACC,OAAU;AAAA,EACnB,GAAGA;AAAA,EACH,WAAWC,EAAYD,EAAK,QAAQE,CAAY;AACpD,EAAE,GAEOC,IAAc,CAACV,GAA0BW,MAAYX,EAAS,KAAK,CAACE,MAAYA,EAAQ,OAAOS,CAAE,GAEjGC,IAAe,CAACC,MACzB,CAACA,KAAS,OAAOA,EAAK,MAAO,YAAYA,EAAK,GAAG,SAASC,CAAc,GAK/DC,IAAe,CAACF,MACrB,CAACA,EAAK,MAAM,aAAa,KAAK,CAACA,EAAK,SAAS,SAAS,KAAK,CAACA,EAAK,SAAS,MAAM,IACzE,WAAWA,MAEfA;"}