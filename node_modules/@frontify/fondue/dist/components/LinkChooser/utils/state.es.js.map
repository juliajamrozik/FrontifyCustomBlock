{"version":3,"file":"state.es.js","sources":["../../../../src/components/LinkChooser/utils/state.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { ComboBoxState } from '@react-stately/combobox';\nimport { DropdownState, LinkChooserState, SectionState } from '../state/types';\nimport { SearchResult } from '../types';\n\ntype MachineMatches = (value: string) => boolean;\n\nexport const queryMatchesSelection = (selectedResult: SearchResult | null, query: string): boolean =>\n    !!(selectedResult && query === selectedResult.title);\n\nexport const isFetching = (matches: MachineMatches): boolean =>\n    Object.values(DropdownState).some((dropdown) =>\n        [SectionState.Fetching, SectionState.Typing].some((section) =>\n            matches(`${LinkChooserState.Focused}.${dropdown}.${section}`),\n        ),\n    );\n\nexport const isLoaded = (matches: MachineMatches): boolean =>\n    matches(`${LinkChooserState.Focused}.${DropdownState.Default}.${SectionState.Loaded}`);\n\nexport const isUnsuccessful = (matches: MachineMatches): boolean =>\n    Object.values(DropdownState).some((state) => matches(`${LinkChooserState.Focused}.${state}.${SectionState.Error}`));\n\nexport const shouldGoBack = (matches: MachineMatches): boolean =>\n    Object.values(DropdownState)\n        .filter((state) => state !== DropdownState.Default)\n        .some((dropdown) =>\n            Object.values(SectionState).some((section) =>\n                matches(`${LinkChooserState.Focused}.${dropdown}.${section}`),\n            ),\n        );\n\nexport const closeBoxState = (state: ComboBoxState<object>) => {\n    if (state.isOpen) {\n        state.close();\n        state.setFocused(false);\n    }\n};\n\nexport const openBoxState = (state: ComboBoxState<object>) => {\n    if (!state.isOpen) {\n        state.open('first', 'manual');\n        state.setFocused(true);\n    }\n};\n"],"names":["queryMatchesSelection","selectedResult","query","isFetching","matches","DropdownState","dropdown","SectionState","section","LinkChooserState","isLoaded","isUnsuccessful","state","shouldGoBack","closeBoxState","openBoxState"],"mappings":";AAQa,MAAAA,IAAwB,CAACC,GAAqCC,MACvE,CAAC,EAAED,KAAkBC,MAAUD,EAAe,QAErCE,IAAa,CAACC,MACvB,OAAO,OAAOC,CAAa,EAAE;AAAA,EAAK,CAACC,MAC/B,CAACC,EAAa,UAAUA,EAAa,MAAM,EAAE;AAAA,IAAK,CAACC,MAC/CJ,EAAQ,GAAGK,EAAiB,WAAWH,KAAYE,GAAS;AAAA,EAChE;AACJ,GAESE,IAAW,CAACN,MACrBA,EAAQ,GAAGK,EAAiB,WAAWJ,EAAc,WAAWE,EAAa,QAAQ,GAE5EI,IAAiB,CAACP,MAC3B,OAAO,OAAOC,CAAa,EAAE,KAAK,CAACO,MAAUR,EAAQ,GAAGK,EAAiB,WAAWG,KAASL,EAAa,OAAO,CAAC,GAEzGM,IAAe,CAACT,MACzB,OAAO,OAAOC,CAAa,EACtB,OAAO,CAACO,MAAUA,MAAUP,EAAc,OAAO,EACjD;AAAA,EAAK,CAACC,MACH,OAAO,OAAOC,CAAY,EAAE;AAAA,IAAK,CAACC,MAC9BJ,EAAQ,GAAGK,EAAiB,WAAWH,KAAYE,GAAS;AAAA,EAChE;AACJ,GAEKM,IAAgB,CAACF,MAAiC;AAC3D,EAAIA,EAAM,WACNA,EAAM,MAAM,GACZA,EAAM,WAAW,EAAK;AAE9B,GAEaG,IAAe,CAACH,MAAiC;AACtD,EAACA,EAAM,WACDA,EAAA,KAAK,SAAS,QAAQ,GAC5BA,EAAM,WAAW,EAAI;AAE7B;"}