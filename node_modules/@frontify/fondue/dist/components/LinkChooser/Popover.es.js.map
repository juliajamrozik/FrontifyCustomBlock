{"version":3,"file":"Popover.es.js","sources":["../../../src/components/LinkChooser/Popover.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { DismissButton, useOverlay } from '@react-aria/overlays';\nimport { mergeProps } from '@react-aria/utils';\nimport React, { MouseEvent, ReactElement, TouchEvent, useRef } from 'react';\nimport { PopoverProps } from './types';\n\nexport const Popover = (props: PopoverProps): ReactElement => {\n    const ref = useRef<HTMLDivElement>(null);\n    const { popoverRef = ref, isOpen, onClose, children, maxHeight } = props;\n\n    const { overlayProps } = useOverlay(\n        {\n            isOpen,\n            onClose,\n            shouldCloseOnBlur: true,\n            isDismissable: false,\n        },\n        popoverRef,\n    );\n\n    /* Focus must not be shifted to the popover when any buttons are pressed since this will close the input.\n    There is a blur event fired on the input when clicking inside the popover which gets fired twice *sometimes*,\n    (once with a relatedTarget and once without). This way all blur events are prevented */\n\n    const bubblingEventProps = {\n        onMouseDown: (event: MouseEvent<HTMLDivElement>) => event.preventDefault(),\n        onTouchStart: (event: TouchEvent<HTMLDivElement>) => event.preventDefault(),\n    };\n\n    return (\n        <div\n            {...mergeProps(overlayProps, { style: { maxHeight } })}\n            ref={popoverRef}\n            className=\"tw-bg-white tw-border-black-10 tw-border tw-rounded tw-overflow-x-hidden tw-shadow-mid tw-overflow-y-auto\"\n        >\n            <div {...bubblingEventProps}>\n                {children}\n                <DismissButton onDismiss={onClose} />\n            </div>\n        </div>\n    );\n};\n"],"names":["Popover","props","ref","useRef","popoverRef","isOpen","onClose","children","maxHeight","overlayProps","useOverlay","bubblingEventProps","event","React","mergeProps","DismissButton"],"mappings":";;;AAOa,MAAAA,IAAU,CAACC,MAAsC;AACpD,QAAAC,IAAMC,EAAuB,IAAI,GACjC,EAAE,YAAAC,IAAaF,GAAK,QAAAG,GAAQ,SAAAC,GAAS,UAAAC,GAAU,WAAAC,EAAc,IAAAP,GAE7D,EAAE,cAAAQ,MAAiBC;AAAA,IACrB;AAAA,MACI,QAAAL;AAAA,MACA,SAAAC;AAAA,MACA,mBAAmB;AAAA,MACnB,eAAe;AAAA,IACnB;AAAA,IACAF;AAAA,EAAA,GAOEO,IAAqB;AAAA,IACvB,aAAa,CAACC,MAAsCA,EAAM,eAAe;AAAA,IACzE,cAAc,CAACA,MAAsCA,EAAM,eAAe;AAAA,EAAA;AAI1E,SAAA,gBAAAC,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACI,GAAGC,EAAWL,GAAc,EAAE,OAAO,EAAE,WAAAD,KAAa;AAAA,MACrD,KAAKJ;AAAA,MACL,WAAU;AAAA,IAAA;AAAA,IAEV,gBAAAS,EAAA,cAAC,SAAK,GAAGF,EAAA,GACJJ,GACA,gBAAAM,EAAA,cAAAE,GAAA,EAAc,WAAWT,EAAS,CAAA,CACvC;AAAA,EAAA;AAGZ;"}