{"version":3,"file":"NavigationMenu.es.js","sources":["../../../src/components/LinkChooser/NavigationMenu.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { MenuItem, MenuItemContentSize, SelectionIndicatorIcon } from '@components/MenuItem';\nimport { IconArrowLeft } from '@foundation/Icon/Generated';\nimport { getInteractionModality } from '@react-aria/interactions';\nimport { useOption } from '@react-aria/listbox';\nimport { merge } from '@utilities/merge';\nimport { useActor } from '@xstate/react';\nimport React, { ReactElement, useMemo, useRef } from 'react';\nimport { defaultSection } from './sections';\nimport { DropdownState, LinkChooserState } from './state/types';\nimport { NavigationMenuItemProps, NavigationMenuProps } from './types';\n\nexport const NavigationMenu = ({ machineService, state }: NavigationMenuProps): Nullable<ReactElement> => {\n    const [{ matches, context }, send] = useActor(machineService);\n\n    return matches(`${LinkChooserState.Focused}.${DropdownState.Default}`) ? (\n        <ul className=\"tw-py-2\">\n            {context.extraSections.map((section) => (\n                <NavigationMenuItem\n                    key={section.id}\n                    section={section}\n                    state={state}\n                    onPress={() => {\n                        send({\n                            type: 'SELECT_EXTRA_SECTION',\n                            data: { getExtraResultsByQuery: section.getResults, currentSectionId: section.id },\n                        });\n                    }}\n                />\n            ))}\n        </ul>\n    ) : null;\n};\n\nexport const NavigationMenuItem = ({\n    section: { id, title },\n    onPress,\n    state,\n    direction = 'right',\n}: NavigationMenuItemProps): ReactElement => {\n    const ref = useRef<HTMLLIElement>(null);\n    const { isFocused } = useOption(\n        {\n            key: id,\n            shouldFocusOnHover: false,\n        },\n        state,\n        ref,\n    );\n\n    const itemTitle = useMemo(\n        () => (id === defaultSection.id ? <p className=\"tw-ml-1 tw-text-black-80 tw-capitalize\">{title}</p> : title),\n        [id, title],\n    );\n\n    const isFocusVisible = getInteractionModality() !== 'pointer';\n\n    return (\n        <div\n            onClick={onPress}\n            tabIndex={0}\n            role=\"menuitem\"\n            aria-label={`Navigate to ${id} section of search results.`}\n            data-key={id}\n            data-test-id=\"link-chooser-navigation-menu-item\"\n            className={merge(['hover:tw-bg-black-10', isFocused && isFocusVisible && 'tw-bg-black-10'])}\n        >\n            <MenuItem\n                title={itemTitle}\n                selectionIndicator={direction === 'right' ? SelectionIndicatorIcon.CaretRight : undefined}\n                decorator={direction === 'left' ? <IconArrowLeft /> : undefined}\n                size={MenuItemContentSize.XSmall}\n            />\n        </div>\n    );\n};\n"],"names":["NavigationMenu","machineService","state","matches","context","send","useActor","LinkChooserState","DropdownState","React","section","NavigationMenuItem","id","title","onPress","direction","ref","useRef","isFocused","useOption","itemTitle","useMemo","defaultSection","isFocusVisible","getInteractionModality","merge","MenuItem","SelectionIndicatorIcon","IconArrowLeft","MenuItemContentSize"],"mappings":";;;;;;;;;;AAcO,MAAMA,IAAiB,CAAC,EAAE,gBAAAC,GAAgB,OAAAC,QAAyD;AAChG,QAAA,CAAC,EAAE,SAAAC,GAAS,SAAAC,EAAA,GAAWC,CAAI,IAAIC,EAASL,CAAc;AAE5D,SAAOE,EAAQ,GAAGI,EAAiB,WAAWC,EAAc,SAAS,IAChE,gBAAAC,EAAA,cAAA,MAAA,EAAG,WAAU,aACTL,EAAQ,cAAc,IAAI,CAACM,MACxB,gBAAAD,EAAA;AAAA,IAACE;AAAA,IAAA;AAAA,MACG,KAAKD,EAAQ;AAAA,MACb,SAAAA;AAAA,MACA,OAAAR;AAAA,MACA,SAAS,MAAM;AACN,QAAAG,EAAA;AAAA,UACD,MAAM;AAAA,UACN,MAAM,EAAE,wBAAwBK,EAAQ,YAAY,kBAAkBA,EAAQ,GAAG;AAAA,QAAA,CACpF;AAAA,MACL;AAAA,IAAA;AAAA,EAAA,CAEP,CACL,IACA;AACR,GAEaC,IAAqB,CAAC;AAAA,EAC/B,SAAS,EAAE,IAAAC,GAAI,OAAAC,EAAM;AAAA,EACrB,SAAAC;AAAA,EACA,OAAAZ;AAAA,EACA,WAAAa,IAAY;AAChB,MAA6C;AACnC,QAAAC,IAAMC,EAAsB,IAAI,GAChC,EAAE,WAAAC,MAAcC;AAAA,IAClB;AAAA,MACI,KAAKP;AAAA,MACL,oBAAoB;AAAA,IACxB;AAAA,IACAV;AAAA,IACAc;AAAA,EAAA,GAGEI,IAAYC;AAAA,IACd,MAAOT,MAAOU,EAAe,qCAAM,KAAE,EAAA,WAAU,4CAA0CT,CAAM,IAAOA;AAAA,IACtG,CAACD,GAAIC,CAAK;AAAA,EAAA,GAGRU,IAAiBC,EAA6B,MAAA;AAGhD,SAAA,gBAAAf,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACG,SAASK;AAAA,MACT,UAAU;AAAA,MACV,MAAK;AAAA,MACL,cAAY,eAAeF;AAAA,MAC3B,YAAUA;AAAA,MACV,gBAAa;AAAA,MACb,WAAWa,EAAM,CAAC,wBAAwBP,KAAaK,KAAkB,gBAAgB,CAAC;AAAA,IAAA;AAAA,IAE1F,gBAAAd,EAAA;AAAA,MAACiB;AAAA,MAAA;AAAA,QACG,OAAON;AAAA,QACP,oBAAoBL,MAAc,UAAUY,EAAuB,aAAa;AAAA,QAChF,WAAWZ,MAAc,SAAS,gBAAAN,EAAA,cAACmB,OAAc,IAAK;AAAA,QACtD,MAAMC,EAAoB;AAAA,MAAA;AAAA,IAC9B;AAAA,EAAA;AAGZ;"}