{"version":3,"file":"useEditorResize.es.js","sources":["../../../../src/components/RichTextEditor/hooks/useEditorResize.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { useCallback, useRef, useState } from 'react';\nimport { debounce } from '@utilities/debounce';\n\nexport const useEditorResize = () => {\n    const [editorWidth, setEditorWidth] = useState<number>(0);\n\n    const debounceRef = useRef(debounce((value: number) => setEditorWidth(value)));\n\n    const editorRef = useCallback((node: HTMLDivElement) => {\n        if (!node) {\n            return;\n        }\n        setEditorWidth(node.clientWidth);\n\n        const observer = new ResizeObserver((entries) => {\n            if (entries.length === 0) {\n                return;\n            }\n            const width = entries[0].target.clientWidth;\n            if (width > 0) {\n                debounceRef.current(width);\n            }\n        });\n\n        setTimeout(() => {\n            observer.observe(node);\n        }, 0);\n        return observer;\n    }, []);\n\n    return { editorRef, editorWidth };\n};\n"],"names":["useEditorResize","editorWidth","setEditorWidth","useState","debounceRef","useRef","debounce","value","useCallback","node","observer","entries","width"],"mappings":";;AAKO,MAAMA,IAAkB,MAAM;AACjC,QAAM,CAACC,GAAaC,CAAc,IAAIC,EAAiB,CAAC,GAElDC,IAAcC,EAAOC,EAAS,CAACC,MAAkBL,EAAeK,CAAK,CAAC,CAAC;AAwBtE,SAAA,EAAE,WAtBSC,EAAY,CAACC,MAAyB;AACpD,QAAI,CAACA;AACD;AAEJ,IAAAP,EAAeO,EAAK,WAAW;AAE/B,UAAMC,IAAW,IAAI,eAAe,CAACC,MAAY;AACzC,UAAAA,EAAQ,WAAW;AACnB;AAEJ,YAAMC,IAAQD,EAAQ,CAAC,EAAE,OAAO;AAChC,MAAIC,IAAQ,KACRR,EAAY,QAAQQ,CAAK;AAAA,IAC7B,CACH;AAED,sBAAW,MAAM;AACb,MAAAF,EAAS,QAAQD,CAAI;AAAA,OACtB,CAAC,GACGC;AAAA,EACX,GAAG,CAAE,CAAA,GAEe,aAAAT;AACxB;"}