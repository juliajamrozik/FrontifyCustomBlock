import { useRef as a, useCallback as p, useMemo as l } from "react";
import { useDebounce as S } from "../../../hooks/useDebounce.es.js";
import { ON_SAVE_DELAY_IN_MS as _ } from "../utils/constants.es.js";
import { parseRawValue as b } from "../utils/parseRawValue.es.js";
import { GeneratePlugins as E } from "../Plugins/GeneratePlugins.es.js";
const M = ({
  editorId: r,
  initialValue: n,
  plugins: m,
  onTextChange: s,
  onValueChanged: e
}) => {
  const t = a(null), c = S((o) => {
    s && s(JSON.stringify(o));
  }, _), u = p(
    (o) => {
      c(o), t.current = o, e && e(o);
    },
    [c, t, e]
  ), f = l(
    () => b({ editorId: r, raw: n, plugins: m }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [r]
  ), i = E(r, m);
  return { localValue: t, onChange: u, memoizedValue: f, config: i };
};
export {
  M as useEditorState
};
//# sourceMappingURL=useEditorState.es.js.map
