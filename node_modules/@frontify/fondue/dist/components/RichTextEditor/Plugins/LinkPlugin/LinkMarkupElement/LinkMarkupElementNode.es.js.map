{"version":3,"file":"LinkMarkupElementNode.es.js","sources":["../../../../../../src/components/RichTextEditor/Plugins/LinkPlugin/LinkMarkupElement/LinkMarkupElementNode.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport React, { MouseEvent } from 'react';\nimport { HTMLPropsAs, LinkRootProps, useElementProps } from '@udecode/plate';\nimport { getUrlFromLinkOrLegacyLink } from '../utils';\nimport { TLinkElement } from '../types';\nimport { useRichTextEditorContext } from '@components/RichTextEditor/context';\nimport { LINK_PLUGIN } from '../id';\n\nconst useLink = (props: LinkRootProps): HTMLPropsAs<'a'> => {\n    const _props = useElementProps<TLinkElement, 'a'>({\n        ...props,\n        elementToAttributes: (element) => ({\n            href: getUrlFromLinkOrLegacyLink(element),\n            target: element.target || '_blank',\n        }),\n    });\n\n    return {\n        ..._props,\n        // quick fix: hovering <a> with href loses the editor focus\n        onMouseOver: (e: MouseEvent) => {\n            e.stopPropagation();\n        },\n    };\n};\n\nexport const LinkMarkupElementNode = (props: LinkRootProps) => {\n    const htmlProps = useLink(props);\n    const { attributes, children } = props;\n    const { styles } = useRichTextEditorContext();\n\n    return (\n        <a {...attributes} href={htmlProps.href} target={htmlProps.target} style={styles[LINK_PLUGIN]}>\n            {children}\n        </a>\n    );\n};\n"],"names":["useLink","props","useElementProps","element","getUrlFromLinkOrLegacyLink","e","LinkMarkupElementNode","htmlProps","attributes","children","styles","useRichTextEditorContext","React","LINK_PLUGIN"],"mappings":";;;;;AASA,MAAMA,IAAU,CAACC,OASN;AAAA,EACH,GATWC,EAAmC;AAAA,IAC9C,GAAGD;AAAA,IACH,qBAAqB,CAACE,OAAa;AAAA,MAC/B,MAAMC,EAA2BD,CAAO;AAAA,MACxC,QAAQA,EAAQ,UAAU;AAAA,IAAA;AAAA,EAC9B,CACH;AAAA;AAAA,EAKG,aAAa,CAACE,MAAkB;AAC5B,IAAAA,EAAE,gBAAgB;AAAA,EACtB;AAAA,IAIKC,IAAwB,CAACL,MAAyB;AACrD,QAAAM,IAAYP,EAAQC,CAAK,GACzB,EAAE,YAAAO,GAAY,UAAAC,EAAa,IAAAR,GAC3B,EAAE,QAAAS,MAAWC;AAEnB,SACK,gBAAAC,EAAA,cAAA,KAAA,EAAG,GAAGJ,GAAY,MAAMD,EAAU,MAAM,QAAQA,EAAU,QAAQ,OAAOG,EAAOG,CAAW,KACvFJ,CACL;AAER;"}