{"version":3,"file":"ListItemMarkupElement.es.js","sources":["../../../../../src/components/RichTextEditor/Plugins/ListPlugin/ListItemMarkupElement.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { ELEMENT_LI, PlateRenderElementProps, TElement } from '@udecode/plate';\nimport React, { CSSProperties } from 'react';\nimport { MarkupElement } from '../MarkupElement';\nimport { useRichTextEditorContext } from '@components/RichTextEditor/context';\nimport { TextStyles } from '../TextStylePlugin';\n\nexport const LI_CLASSNAMES =\n    '[&>p]:before:tw-flex [&>p]:before:tw-justify-end [&>p]:before:tw-w-[1.2em] !tw-no-underline !tw-list-item';\n\nexport const ListItemMarkupElementNode = ({ attributes, children, element }: PlateRenderElementProps) => {\n    const { styles } = useRichTextEditorContext();\n    return (\n        <li style={getLiStyles(element, styles)} {...attributes} className={LI_CLASSNAMES}>\n            {children}\n        </li>\n    );\n};\n\nexport class ListItemMarkupElement extends MarkupElement {\n    constructor(id = ELEMENT_LI, node = ListItemMarkupElementNode) {\n        super(id, node);\n    }\n}\n\nexport const getLiStyles = (element: TElement, styles: Record<string, CSSProperties>): CSSProperties => {\n    return {\n        ...styles[getDeepestTextStyle(element) ?? TextStyles.p],\n        counterIncrement: 'count',\n    };\n};\n\nconst getDeepestTextStyle = (node: TElement): string => {\n    let textStyle;\n\n    if (node.type === 'a') {\n        textStyle = node.children[0].textStyle;\n    } else if (node.children) {\n        for (const childNode of node.children) {\n            const deepestTextStyle = getDeepestTextStyle(childNode as TElement);\n            if (deepestTextStyle && (!textStyle || deepestTextStyle.startsWith(textStyle))) {\n                textStyle = deepestTextStyle;\n            }\n        }\n    } else {\n        textStyle = node.textStyle;\n    }\n\n    return textStyle as string;\n};\n"],"names":["LI_CLASSNAMES","ListItemMarkupElementNode","attributes","children","element","styles","useRichTextEditorContext","React","getLiStyles","ListItemMarkupElement","MarkupElement","id","ELEMENT_LI","node","getDeepestTextStyle","TextStyles","textStyle","childNode","deepestTextStyle"],"mappings":";;;;;AAQO,MAAMA,IACT,6GAESC,IAA4B,CAAC,EAAE,YAAAC,GAAY,UAAAC,GAAU,SAAAC,QAAuC;AAC/F,QAAA,EAAE,QAAAC,MAAWC;AAEf,SAAA,gBAAAC,EAAA,cAAC,MAAG,EAAA,OAAOC,EAAYJ,GAASC,CAAM,GAAI,GAAGH,GAAY,WAAWF,EAAA,GAC/DG,CACL;AAER;AAEO,MAAMM,UAA8BC,EAAc;AAAA,EACrD,YAAYC,IAAKC,GAAYC,IAAOZ,GAA2B;AAC3D,UAAMU,GAAIE,CAAI;AAAA,EAClB;AACJ;AAEa,MAAAL,IAAc,CAACJ,GAAmBC,OACpC;AAAA,EACH,GAAGA,EAAOS,EAAoBV,CAAO,KAAKW,EAAW,CAAC;AAAA,EACtD,kBAAkB;AAAA,IAIpBD,IAAsB,CAACD,MAA2B;AAChD,MAAAG;AAEA,MAAAH,EAAK,SAAS;AACF,IAAAG,IAAAH,EAAK,SAAS,CAAC,EAAE;AAAA,WACtBA,EAAK;AACD,eAAAI,KAAaJ,EAAK,UAAU;AAC7B,YAAAK,IAAmBJ,EAAoBG,CAAqB;AAClE,MAAIC,MAAqB,CAACF,KAAaE,EAAiB,WAAWF,CAAS,OAC5DA,IAAAE;AAAA,IAEpB;AAAA;AAEA,IAAAF,IAAYH,EAAK;AAGd,SAAAG;AACX;"}