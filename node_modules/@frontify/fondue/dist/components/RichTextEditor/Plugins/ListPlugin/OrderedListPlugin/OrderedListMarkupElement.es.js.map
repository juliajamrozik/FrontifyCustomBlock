{"version":3,"file":"OrderedListMarkupElement.es.js","sources":["../../../../../../src/components/RichTextEditor/Plugins/ListPlugin/OrderedListPlugin/OrderedListMarkupElement.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport {\n    ELEMENT_LI,\n    ELEMENT_OL,\n    PlateEditor,\n    PlateRenderLeafProps,\n    TElement,\n    findNodePath,\n    getNodeAncestors,\n    usePlateEditorRef,\n} from '@udecode/plate';\nimport React from 'react';\nimport { MarkupElement } from '../../MarkupElement';\n\nconst LIST_TYPES = [\n    \"[&>li>p]:before:tw-content-[counter(count,decimal)_'._']\",\n    \"[&>li>p]:before:tw-content-[counter(count,_lower-alpha)_'._']\",\n    \"[&>li>p]:before:tw-content-[counter(count,lower-roman)_'._']\",\n];\n\nconst getNestingLevel = (editor: PlateEditor, element: TElement) => {\n    const path = findNodePath(editor, element);\n    if (!path) {\n        return 0;\n    }\n\n    const nodeAncestors = getNodeAncestors(editor, path);\n    return Array.from(nodeAncestors).filter((node) => node[0].type === ELEMENT_LI).length;\n};\n\nexport const getOrderedListClasses = (nestingLevel: number) =>\n    `tw-list-none tw-pl-[10px] tw-mb-[10px] tw-ml-[15px] [&>li>p]:before:tw-pr-1 [&>li>p]:before:tw-tabular-nums ${\n        LIST_TYPES[nestingLevel % 3]\n    }`;\nexport const OL_STYLES = { counterReset: 'count' };\n\nexport const OrderedListMarkupElementNode = ({\n    attributes,\n    children,\n    element,\n}: PlateRenderLeafProps & { element: TElement }) => {\n    const editor = usePlateEditorRef();\n    const nestingLevel = getNestingLevel(editor, element);\n\n    return (\n        <ol className={getOrderedListClasses(nestingLevel)} {...attributes} style={OL_STYLES}>\n            {children}\n        </ol>\n    );\n};\n\nexport class OrderedListMarkupElement extends MarkupElement {\n    constructor(id = ELEMENT_OL, node = OrderedListMarkupElementNode) {\n        super(id, node);\n    }\n}\n"],"names":["LIST_TYPES","getNestingLevel","editor","element","path","findNodePath","nodeAncestors","getNodeAncestors","node","ELEMENT_LI","getOrderedListClasses","nestingLevel","OL_STYLES","OrderedListMarkupElementNode","attributes","children","usePlateEditorRef","React","OrderedListMarkupElement","MarkupElement","id","ELEMENT_OL"],"mappings":";;;AAeA,MAAMA,IAAa;AAAA,EACf;AAAA,EACA;AAAA,EACA;AACJ,GAEMC,IAAkB,CAACC,GAAqBC,MAAsB;AAC1D,QAAAC,IAAOC,EAAaH,GAAQC,CAAO;AACzC,MAAI,CAACC;AACM,WAAA;AAGL,QAAAE,IAAgBC,EAAiBL,GAAQE,CAAI;AACnD,SAAO,MAAM,KAAKE,CAAa,EAAE,OAAO,CAACE,MAASA,EAAK,CAAC,EAAE,SAASC,CAAU,EAAE;AACnF,GAEaC,IAAwB,CAACC,MAClC,+GACIX,EAAWW,IAAe,CAAC,KAEtBC,IAAY,EAAE,cAAc,QAAQ,GAEpCC,IAA+B,CAAC;AAAA,EACzC,YAAAC;AAAA,EACA,UAAAC;AAAA,EACA,SAAAZ;AACJ,MAAoD;AAChD,QAAMD,IAASc,KACTL,IAAeV,EAAgBC,GAAQC,CAAO;AAGhD,SAAA,gBAAAc,EAAA,cAAC,MAAG,EAAA,WAAWP,EAAsBC,CAAY,GAAI,GAAGG,GAAY,OAAOF,EAAA,GACtEG,CACL;AAER;AAEO,MAAMG,UAAiCC,EAAc;AAAA,EACxD,YAAYC,IAAKC,GAAYb,IAAOK,GAA8B;AAC9D,UAAMO,GAAIZ,CAAI;AAAA,EAClB;AACJ;"}