{"version":3,"file":"CheckboxListElement.es.js","sources":["../../../../../src/components/RichTextEditor/Plugins/CheckboxListPlugin/CheckboxListElement.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport React, { CSSProperties } from 'react';\nimport { ReactEditor } from 'slate-react';\nimport { PlateRenderElementProps, TElement, TTodoListItemElement, getRootProps, setNodes } from '@udecode/plate';\nimport { merge } from '@utilities/merge';\nimport { MarkupElement } from '../MarkupElement';\nimport { ELEMENT_CHECK_ITEM } from './id';\nimport { justifyClassNames } from '../helper';\nimport { useRichTextEditorContext } from '@components/RichTextEditor/context';\n\nconst getCheckboxListStyles = (styles: Record<string, CSSProperties>, element: TElement): CSSProperties =>\n    styles[element.children[0].textStyle as string];\n\nexport const CheckboxListElementNode = (props: PlateRenderElementProps) => {\n    const { attributes, children, nodeProps, element, editor } = props;\n    const rootProps = getRootProps(props);\n    const checked = element.checked as boolean;\n    const align = (element.align as string) ?? 'left';\n    const { styles } = useRichTextEditorContext();\n\n    return (\n        <div\n            {...attributes}\n            {...rootProps}\n            className={merge(['tw-flex tw-flex-row tw-pb-2 tw-gap-1.5 tw-items-center', justifyClassNames[align]])}\n        >\n            <div contentEditable={false} className=\"tw-select-none\">\n                <input\n                    data-test-id=\"checkbox-input\"\n                    className=\"tw-w-4 tw-h-4 tw-m-0\"\n                    type=\"checkbox\"\n                    checked={!!checked}\n                    onChange={(e) => {\n                        const path = ReactEditor.findPath(editor as ReactEditor, element);\n                        setNodes<TTodoListItemElement>(editor, { checked: e.target.checked }, { at: path });\n                    }}\n                    {...nodeProps}\n                />\n            </div>\n            <span\n                style={getCheckboxListStyles(styles, element)}\n                className={merge(['focus:tw-outline-none tw-w-auto tw-min-w-[10px]', checked && '!tw-line-through'])}\n            >\n                {children}\n            </span>\n        </div>\n    );\n};\n\nexport class CheckboxListElement extends MarkupElement {\n    constructor(id = ELEMENT_CHECK_ITEM, node = CheckboxListElementNode) {\n        super(id, node);\n    }\n}\n"],"names":["getCheckboxListStyles","styles","element","CheckboxListElementNode","props","attributes","children","nodeProps","editor","rootProps","getRootProps","checked","align","useRichTextEditorContext","React","merge","justifyClassNames","e","path","ReactEditor","setNodes","CheckboxListElement","MarkupElement","id","ELEMENT_CHECK_ITEM","node"],"mappings":";;;;;;;;AAWA,MAAMA,IAAwB,CAACC,GAAuCC,MAClED,EAAOC,EAAQ,SAAS,CAAC,EAAE,SAAmB,GAErCC,IAA0B,CAACC,MAAmC;AACvE,QAAM,EAAE,YAAAC,GAAY,UAAAC,GAAU,WAAAC,GAAW,SAAAL,GAAS,QAAAM,EAAW,IAAAJ,GACvDK,IAAYC,EAAaN,CAAK,GAC9BO,IAAUT,EAAQ,SAClBU,IAASV,EAAQ,SAAoB,QACrC,EAAE,QAAAD,MAAWY;AAGf,SAAA,gBAAAC,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACI,GAAGT;AAAA,MACH,GAAGI;AAAA,MACJ,WAAWM,EAAM,CAAC,0DAA0DC,EAAkBJ,CAAK,CAAC,CAAC;AAAA,IAAA;AAAA,IAEpG,gBAAAE,EAAA,cAAA,OAAA,EAAI,iBAAiB,IAAO,WAAU,oBACnC,gBAAAA,EAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACG,gBAAa;AAAA,QACb,WAAU;AAAA,QACV,MAAK;AAAA,QACL,SAAS,CAAC,CAACH;AAAA,QACX,UAAU,CAACM,MAAM;AACb,gBAAMC,IAAOC,EAAY,SAASX,GAAuBN,CAAO;AACjC,UAAAkB,EAAAZ,GAAQ,EAAE,SAASS,EAAE,OAAO,WAAW,EAAE,IAAIC,EAAA,CAAM;AAAA,QACtF;AAAA,QACC,GAAGX;AAAA,MAAA;AAAA,IAAA,CAEZ;AAAA,IACA,gBAAAO,EAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACG,OAAOd,EAAsBC,GAAQC,CAAO;AAAA,QAC5C,WAAWa,EAAM,CAAC,mDAAmDJ,KAAW,kBAAkB,CAAC;AAAA,MAAA;AAAA,MAElGL;AAAA,IACL;AAAA,EAAA;AAGZ;AAEO,MAAMe,UAA4BC,EAAc;AAAA,EACnD,YAAYC,IAAKC,GAAoBC,IAAOtB,GAAyB;AACjE,UAAMoB,GAAIE,CAAI;AAAA,EAClB;AACJ;"}