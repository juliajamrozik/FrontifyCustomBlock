{"version":3,"file":"setColumnBreaks.es.js","sources":["../../../../../../src/components/RichTextEditor/Plugins/ColumnBreakPlugin/utils/setColumnBreaks.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport {\n    ENode,\n    PlateEditor,\n    PlatePluginKey,\n    SetNodesOptions,\n    TNodeMatch,\n    Value,\n    isBlock,\n    setElements,\n    unsetNodes,\n} from '@udecode/plate';\nimport { Location } from 'slate';\nimport { KEY_ELEMENT_BREAK_AFTER_COLUMN } from '../createColumnBreakPlugin';\n\nexport type ColumnBreakValue = 'active' | 'inactive' | undefined;\n\n// This is adapted from src/components/RichTextEditor/Plugins/AlignPlugin/AlignPlugin.ts\nexport const setColumnBreaks = <V extends Value>(\n    editor: PlateEditor<V>,\n    {\n        key = KEY_ELEMENT_BREAK_AFTER_COLUMN,\n        value,\n        at,\n    }: { at?: Location; value?: string; setNodesOptions?: SetNodesOptions<V> } & PlatePluginKey,\n) => {\n    const match: TNodeMatch<ENode<Value>> = (n) => isBlock(editor, n);\n\n    if (!value) {\n        unsetNodes(editor, key, {\n            match,\n            mode: 'lowest',\n            at,\n        });\n    } else {\n        setElements(editor, { [key]: value }, { mode: 'lowest', match, at });\n    }\n};\n"],"names":["setColumnBreaks","editor","key","KEY_ELEMENT_BREAK_AFTER_COLUMN","value","at","match","n","isBlock","setElements","unsetNodes"],"mappings":";;AAmBa,MAAAA,IAAkB,CAC3BC,GACA;AAAA,EACI,KAAAC,IAAMC;AAAA,EACN,OAAAC;AAAA,EACA,IAAAC;AACJ,MACC;AACD,QAAMC,IAAkC,CAACC,MAAMC,EAAQP,GAAQM,CAAC;AAEhE,EAAKH,IAODK,EAAYR,GAAQ,EAAE,CAACC,CAAG,GAAGE,EAAA,GAAS,EAAE,MAAM,UAAU,OAAAE,GAAO,IAAAD,EAAI,CAAA,IANnEK,EAAWT,GAAQC,GAAK;AAAA,IACpB,OAAAI;AAAA,IACA,MAAM;AAAA,IACN,IAAAD;AAAA,EAAA,CACH;AAIT;"}