{"version":3,"file":"DropdownItem.es.js","sources":["../../../../../../src/components/RichTextEditor/Plugins/TextStylePlugin/TextStyleDropdown/DropdownItem.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { ELEMENT_LI, PlateEditor, getAboveNode, getMark, setMarks, someNode, toggleNodeType } from '@udecode/plate';\nimport React from 'react';\nimport { ELEMENT_CHECK_ITEM } from '../../CheckboxListPlugin';\nimport { MARK_TEXT_STYLE } from '../../ListPlugin/ListPlugin';\nimport { merge } from '@utilities/merge';\nimport { DropdownItemProps } from './types';\n\nconst isInList = (editor: PlateEditor) =>\n    getAboveNode(editor, {\n        match: { type: ELEMENT_LI },\n        mode: 'lowest',\n    }) ||\n    someNode(editor, {\n        match: { type: ELEMENT_CHECK_ITEM },\n        mode: 'lowest',\n    });\n\nexport const DropdownItem = ({ editor, type, children }: DropdownItemProps) => {\n    const isActive = editor?.selection\n        ? getMark(editor, MARK_TEXT_STYLE) === type.id\n        : someNode(editor, { match: { type } });\n\n    return (\n        <button\n            data-test-id=\"textstyle-option\"\n            type=\"button\"\n            className={merge([\n                'tw-block tw-w-full tw-text-left tw-px-3 tw-py-2 tw-outline-none tw-cursor-pointer tw-truncate hover:tw-bg-box-neutral-hover hover:w-text-box-neutral-inverse-hover tw-max-h-20 tw-max-w-[15rem] tw-min-h-[2.25rem]',\n                isActive ? 'tw-text-box-neutral-inverse tw-bg-box-neutral' : 'tw-text-text',\n            ])}\n            onMouseDown={(event) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                if (!editor || !editor.selection) {\n                    return;\n                }\n                setMarks(editor, { [MARK_TEXT_STYLE]: type.id });\n                if (!isInList(editor)) {\n                    toggleNodeType(editor, {\n                        activeType: type.id,\n                        inactiveType: type.id,\n                    });\n                }\n            }}\n        >\n            {children}\n        </button>\n    );\n};\n"],"names":["isInList","editor","getAboveNode","ELEMENT_LI","someNode","ELEMENT_CHECK_ITEM","DropdownItem","type","children","isActive","getMark","MARK_TEXT_STYLE","React","merge","event","setMarks","toggleNodeType"],"mappings":";;;;;AASA,MAAMA,IAAW,CAACC,MACdC,EAAaD,GAAQ;AAAA,EACjB,OAAO,EAAE,MAAME,EAAW;AAAA,EAC1B,MAAM;AACV,CAAC,KACDC,EAASH,GAAQ;AAAA,EACb,OAAO,EAAE,MAAMI,EAAmB;AAAA,EAClC,MAAM;AACV,CAAC,GAEQC,IAAe,CAAC,EAAE,QAAAL,GAAQ,MAAAM,GAAM,UAAAC,QAAkC;AAC3E,QAAMC,IAAWR,KAAA,QAAAA,EAAQ,YACnBS,EAAQT,GAAQU,CAAe,MAAMJ,EAAK,KAC1CH,EAASH,GAAQ,EAAE,OAAO,EAAE,MAAAM,KAAQ;AAGtC,SAAA,gBAAAK,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACG,gBAAa;AAAA,MACb,MAAK;AAAA,MACL,WAAWC,EAAM;AAAA,QACb;AAAA,QACAJ,IAAW,kDAAkD;AAAA,MAAA,CAChE;AAAA,MACD,aAAa,CAACK,MAAU;AAIpB,QAHAA,EAAM,eAAe,GACrBA,EAAM,gBAAgB,GAElB,GAACb,KAAU,CAACA,EAAO,eAGvBc,EAASd,GAAQ,EAAE,CAACU,CAAe,GAAGJ,EAAK,IAAI,GAC1CP,EAASC,CAAM,KAChBe,EAAef,GAAQ;AAAA,UACnB,YAAYM,EAAK;AAAA,UACjB,cAAcA,EAAK;AAAA,QAAA,CACtB;AAAA,MAET;AAAA,IAAA;AAAA,IAECC;AAAA,EAAA;AAGb;"}