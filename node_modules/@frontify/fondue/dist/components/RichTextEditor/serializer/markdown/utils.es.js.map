{"version":3,"file":"utils.es.js","sources":["../../../../../src/components/RichTextEditor/serializer/markdown/utils.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { MentionableCategory } from '@components/RichTextEditor/Plugins/MentionPlugin/types';\nimport { OptionType, PartialOptionType, defaultNodeTypes } from './types';\n\nconst MENTION_ID_REGEX = '[\\\\d=a-z]+';\nconst MENTIONABLE_CATEGORIES = Object.values(MentionableCategory).join('|');\nconst MENTION_REGEX_PATTERN = `@\\\\[(${MENTIONABLE_CATEGORIES}):${MENTION_ID_REGEX}\\\\]`;\nexport const MENTION_WITH_GROUPS_REGEX_PATTERN = `@\\\\[(${MENTIONABLE_CATEGORIES}):(${MENTION_ID_REGEX})\\\\]`;\nexport const MENTION_SERIALIZE_REGEX = new RegExp(MENTION_REGEX_PATTERN, 'gi');\nexport const MENTION_DESERIALIZE_REGEX = new RegExp(MENTION_WITH_GROUPS_REGEX_PATTERN, 'i');\n\nexport const BREAK_TAG = '<br>';\nexport const LINK_DESTINATION_KEY = 'link';\n\nexport const defaultOptions: OptionType = {\n    nodeTypes: defaultNodeTypes,\n    ignoreParagraphNewline: false,\n    listDepth: 0,\n    linkDestinationKey: LINK_DESTINATION_KEY,\n};\n\nexport const getSelectedOptions = (options?: PartialOptionType): OptionType => ({\n    ...defaultOptions,\n    ...options,\n    nodeTypes: {\n        ...defaultOptions.nodeTypes,\n        ...options?.nodeTypes,\n        heading: {\n            ...defaultOptions.nodeTypes.heading,\n            ...options?.nodeTypes?.heading,\n        },\n    },\n});\n\nexport const isMaliciousLink = (link: string) => /^(javascript:|data:text\\/).+/.test(link);\n"],"names":["MENTION_ID_REGEX","MENTIONABLE_CATEGORIES","MentionableCategory","MENTION_REGEX_PATTERN","MENTION_WITH_GROUPS_REGEX_PATTERN","MENTION_SERIALIZE_REGEX","MENTION_DESERIALIZE_REGEX","BREAK_TAG","LINK_DESTINATION_KEY","defaultOptions","defaultNodeTypes","getSelectedOptions","options","_a","isMaliciousLink","link"],"mappings":";;AAKA,MAAMA,IAAmB,cACnBC,IAAyB,OAAO,OAAOC,CAAmB,EAAE,KAAK,GAAG,GACpEC,IAAwB,QAAQF,MAA2BD,QACpDI,IAAoC,QAAQH,OAA4BD,SACxEK,IAA0B,IAAI,OAAOF,GAAuB,IAAI,GAChEG,IAA4B,IAAI,OAAOF,GAAmC,GAAG,GAE7EG,IAAY,QACZC,IAAuB,QAEvBC,IAA6B;AAAA,EACtC,WAAWC;AAAA,EACX,wBAAwB;AAAA,EACxB,WAAW;AAAA,EACX,oBAAoBF;AACxB,GAEaG,IAAqB,CAACC,MAA6C;;AAAA;AAAA,IAC5E,GAAGH;AAAA,IACH,GAAGG;AAAA,IACH,WAAW;AAAA,MACP,GAAGH,EAAe;AAAA,MAClB,GAAGG,KAAA,gBAAAA,EAAS;AAAA,MACZ,SAAS;AAAA,QACL,GAAGH,EAAe,UAAU;AAAA,QAC5B,IAAGI,IAAAD,KAAA,gBAAAA,EAAS,cAAT,gBAAAC,EAAoB;AAAA,MAC3B;AAAA,IACJ;AAAA,EACJ;AAAA,GAEaC,IAAkB,CAACC,MAAiB,+BAA+B,KAAKA,CAAI;"}