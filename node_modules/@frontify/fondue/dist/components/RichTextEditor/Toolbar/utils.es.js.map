{"version":3,"file":"utils.es.js","sources":["../../../../src/components/RichTextEditor/Toolbar/utils.ts"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { TEXT_STYLE_PLUGIN } from '../Plugins/TextStylePlugin/id';\nimport { Button, Buttons } from '../Plugins/types';\nimport { ButtonGroupWidths, ButtonGroupsPerRow } from './types';\n\nconst BUTTON_GROUP_PADDING_PX = 12;\nconst BUTTON_GROUP_SIZE_PX = 26;\nconst BUTTON_GROUP_DROPDOWN_PX = 124;\n\nexport const getButtonGroupWidths = (buttons: Buttons) =>\n    buttons.map((group, index) => ({\n        group,\n        buttonGroupWidth: group.reduce(\n            (prev, button: Button) =>\n                button.id === TEXT_STYLE_PLUGIN ? BUTTON_GROUP_DROPDOWN_PX : BUTTON_GROUP_SIZE_PX + prev,\n            BUTTON_GROUP_PADDING_PX,\n        ),\n        index,\n    }));\n\nexport const getButtonGroupsPerRow = (editorWidth: number, buttonGroupWidths: ButtonGroupWidths) =>\n    buttonGroupWidths.reduce<ButtonGroupsPerRow>((buttonGroupWidthsPerRow, { group, buttonGroupWidth, index }) => {\n        const rowCount = Math.max(0, buttonGroupWidthsPerRow.length - 1);\n\n        buttonGroupWidthsPerRow[rowCount] = buttonGroupWidthsPerRow[rowCount] ?? [];\n\n        const currentRowWidth = (buttonGroupWidthsPerRow[rowCount] ?? [{ actions: [], buttonGroupWidth: 0 }]).reduce(\n            (prev, { buttonGroupWidth }) => prev + buttonGroupWidth,\n            0,\n        );\n\n        if (currentRowWidth + buttonGroupWidth <= editorWidth) {\n            buttonGroupWidthsPerRow[rowCount].push({ group, buttonGroupWidth, index });\n        } else {\n            buttonGroupWidthsPerRow.push([{ group, buttonGroupWidth, index }]);\n        }\n\n        return buttonGroupWidthsPerRow.filter((element) => element.length);\n    }, []);\n"],"names":["BUTTON_GROUP_PADDING_PX","BUTTON_GROUP_SIZE_PX","BUTTON_GROUP_DROPDOWN_PX","getButtonGroupWidths","buttons","group","index","prev","button","TEXT_STYLE_PLUGIN","getButtonGroupsPerRow","editorWidth","buttonGroupWidths","buttonGroupWidthsPerRow","buttonGroupWidth","rowCount","element"],"mappings":";AAMA,MAAMA,IAA0B,IAC1BC,IAAuB,IACvBC,IAA2B,KAEpBC,IAAuB,CAACC,MACjCA,EAAQ,IAAI,CAACC,GAAOC,OAAW;AAAA,EAC3B,OAAAD;AAAA,EACA,kBAAkBA,EAAM;AAAA,IACpB,CAACE,GAAMC,MACHA,EAAO,OAAOC,IAAoBP,IAA2BD,IAAuBM;AAAA,IACxFP;AAAA,EACJ;AAAA,EACA,OAAAM;AACJ,EAAE,GAEOI,IAAwB,CAACC,GAAqBC,MACvDA,EAAkB,OAA2B,CAACC,GAAyB,EAAE,OAAAR,GAAO,kBAAAS,GAAkB,OAAAR,EAAA,MAAY;AAC1G,QAAMS,IAAW,KAAK,IAAI,GAAGF,EAAwB,SAAS,CAAC;AAE/D,SAAAA,EAAwBE,CAAQ,IAAIF,EAAwBE,CAAQ,KAAK,CAAA,IAEhDF,EAAwBE,CAAQ,KAAK,CAAC,EAAE,SAAS,IAAI,kBAAkB,EAAE,CAAC,GAAG;AAAA,IAClG,CAACR,GAAM,EAAE,kBAAAO,QAAuBP,IAAOO;AAAAA,IACvC;AAAA,EAAA,IAGkBA,KAAoBH,IACtCE,EAAwBE,CAAQ,EAAE,KAAK,EAAE,OAAAV,GAAO,kBAAAS,GAAkB,OAAAR,GAAO,IAEzEO,EAAwB,KAAK,CAAC,EAAE,OAAAR,GAAO,kBAAAS,GAAkB,OAAAR,EAAO,CAAA,CAAC,GAG9DO,EAAwB,OAAO,CAACG,MAAYA,EAAQ,MAAM;AACrE,GAAG,CAAE,CAAA;"}