{"version":3,"file":"helper.es.js","sources":["../../../../src/components/ActionMenu/Aria/helper.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { Item, Section } from '@react-stately/collections';\nimport React, { ReactNode } from 'react';\nimport { ActionMenuBlock, ActionMenuItemType } from '../ActionMenu/ActionMenu';\nimport { MenuBlock, MenuItemType } from '../../Dropdown/SelectMenu/SelectMenu';\n\nexport type MenuStateType = {\n    'aria-label': string;\n    children: ReactNode;\n};\n\n// Method return type is unclear because React Aria hook props are inexplicitly typed\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const mapToAriaProps = (ariaLabel: string, menuBlocks: MenuBlock[] | ActionMenuBlock[]) => ({\n    'aria-label': ariaLabel,\n    children: menuBlocks.map(({ id, menuItems, ariaLabel: sectionAriaLabel }) => (\n        <Section title={id} key={id} aria-label={sectionAriaLabel}>\n            {menuItems.map((menuItem) => (\n                <Item key={menuItem.id}>{menuItem.title}</Item>\n            ))}\n        </Section>\n    )),\n});\n\nexport const getMenuItems = <T extends MenuBlock | ActionMenuBlock = MenuBlock>(menuBlocks: T[]): T['menuItems'] =>\n    menuBlocks.flatMap(({ menuItems }) => menuItems);\n\nexport const getKeyItemRecord = <T extends MenuItemType | ActionMenuItemType = MenuItemType>(\n    items: T[],\n): Record<string, T> => items.reduce<Record<string, T>>((previous, item) => ({ ...previous, [item.id]: item }), {});\n\nexport const getDisabledItemIds = <T extends MenuItemType | ActionMenuItemType = MenuItemType>(\n    items: T[],\n): Set<T['id']> =>\n    new Set(\n        items\n            .reduce((acc: (string | number)[], curr: MenuItemType) => [...acc, curr.disabled ? curr.id : ''], [])\n            .filter((id) => id !== '')\n            .map((id) => id.toString()),\n    );\n"],"names":["mapToAriaProps","ariaLabel","menuBlocks","id","menuItems","sectionAriaLabel","React","Section","menuItem","Item","getMenuItems","getKeyItemRecord","items","previous","item","getDisabledItemIds","acc","curr"],"mappings":";;AAca,MAAAA,IAAiB,CAACC,GAAmBC,OAAiD;AAAA,EAC/F,cAAcD;AAAA,EACd,UAAUC,EAAW,IAAI,CAAC,EAAE,IAAAC,GAAI,WAAAC,GAAW,WAAWC,EAAiB,MAClE,gBAAAC,EAAA,cAAAC,GAAA,EAAQ,OAAOJ,GAAI,KAAKA,GAAI,cAAYE,EACpC,GAAAD,EAAU,IAAI,CAACI,MACX,gBAAAF,EAAA,cAAAG,GAAA,EAAK,KAAKD,EAAS,GAAK,GAAAA,EAAS,KAAM,CAC3C,CACL,CACH;AACL,IAEaE,IAAe,CAAoDR,MAC5EA,EAAW,QAAQ,CAAC,EAAE,WAAAE,EAAU,MAAMA,CAAS,GAEtCO,IAAmB,CAC5BC,MACoBA,EAAM,OAA0B,CAACC,GAAUC,OAAU,EAAE,GAAGD,GAAU,CAACC,EAAK,EAAE,GAAGA,EAAK,IAAI,CAAA,CAAE,GAErGC,IAAqB,CAC9BH,MAEA,IAAI;AAAA,EACAA,EACK,OAAO,CAACI,GAA0BC,MAAuB,CAAC,GAAGD,GAAKC,EAAK,WAAWA,EAAK,KAAK,EAAE,GAAG,CAAE,CAAA,EACnG,OAAO,CAACd,MAAOA,MAAO,EAAE,EACxB,IAAI,CAACA,MAAOA,EAAG,SAAA,CAAU;AAClC;"}