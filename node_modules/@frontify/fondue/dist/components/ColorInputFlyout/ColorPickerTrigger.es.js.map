{"version":3,"file":"ColorPickerTrigger.es.js","sources":["../../../src/components/ColorInputFlyout/ColorPickerTrigger.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { MenuItemContent } from '@components/MenuItem/MenuItemContent';\nimport { Trigger } from '@components/Trigger/Trigger';\nimport { IconDroplet } from '@foundation/Icon/Generated';\nimport { IconSize } from '@foundation/Icon/IconSize';\nimport { useMemoizedId } from '@hooks/useMemoizedId';\nimport { useFocusRing } from '@react-aria/focus';\nimport { toShortRgb } from '@utilities/colors';\nimport { merge } from '@utilities/merge';\nimport React, { ReactElement } from 'react';\nimport tinycolor from 'tinycolor2';\nimport { ColorFormat } from '../../types/colors';\nimport { ColorInputTitle } from './ColorInputTitle';\nimport { ColorPickerFlyoutProps } from './ColorPickerFlyout';\n\ntype ColorInputTriggerProps = Pick<ColorPickerFlyoutProps, 'id' | 'currentColor' | 'disabled'> & {\n    isOpen?: boolean;\n    format: ColorFormat;\n    clearable?: boolean;\n    onClear?: () => void;\n    onDelete?: () => void;\n};\n\nexport const ColorInputTrigger = ({\n    id,\n    currentColor,\n    format,\n    isOpen = false,\n    disabled = false,\n    clearable = false,\n    onClear,\n    onDelete,\n}: ColorInputTriggerProps): ReactElement => {\n    const { isFocusVisible, focusProps } = useFocusRing();\n    const backgroundColor = currentColor ? tinycolor(toShortRgb(currentColor)).toRgbString() : '';\n\n    return (\n        <Trigger\n            isOpen={isOpen}\n            disabled={disabled}\n            isFocusVisible={isFocusVisible}\n            showClear={!!currentColor && clearable}\n            onClear={onClear}\n            onDelete={onDelete}\n        >\n            <button\n                {...focusProps}\n                type=\"button\"\n                id={useMemoizedId(id)}\n                disabled={disabled}\n                className={merge([\n                    'tw-overflow-hidden tw-flex-auto tw-h-full tw-rounded tw-text-left tw-outline-none tw-py-2 tw-pl-3 tw-min-h-[34px] tw-pr-7',\n                    !currentColor && 'tw-text-black-60',\n                    disabled && 'tw-text-black-40',\n                ])}\n            >\n                <MenuItemContent\n                    title={\n                        currentColor ? <ColorInputTitle format={format} currentColor={currentColor} /> : 'Select color'\n                    }\n                    decorator={\n                        currentColor ? (\n                            <span\n                                className={merge([\n                                    'tw-h-4 tw-w-4 tw-rounded tw-flex tw-items-center tw-justify-center tw-ring-1 tw-ring-black-10 tw-ring-offset-1',\n                                    disabled && 'tw-opacity-50',\n                                ])}\n                                style={{ backgroundColor }}\n                            />\n                        ) : (\n                            <span className=\"tw-text-black-70\">\n                                <IconDroplet size={IconSize.Size12} />\n                            </span>\n                        )\n                    }\n                />\n            </button>\n        </Trigger>\n    );\n};\nColorInputTrigger.displayName = 'FondueColorInputTrigger';\n"],"names":["ColorInputTrigger","id","currentColor","format","isOpen","disabled","clearable","onClear","onDelete","isFocusVisible","focusProps","useFocusRing","backgroundColor","tinycolor","toShortRgb","React","Trigger","useMemoizedId","merge","MenuItemContent","ColorInputTitle","IconDroplet","IconSize"],"mappings":";;;;;;;;;;;AAwBO,MAAMA,IAAoB,CAAC;AAAA,EAC9B,IAAAC;AAAA,EACA,cAAAC;AAAA,EACA,QAAAC;AAAA,EACA,QAAAC,IAAS;AAAA,EACT,UAAAC,IAAW;AAAA,EACX,WAAAC,IAAY;AAAA,EACZ,SAAAC;AAAA,EACA,UAAAC;AACJ,MAA4C;AACxC,QAAM,EAAE,gBAAAC,GAAgB,YAAAC,EAAW,IAAIC,EAAa,GAC9CC,IAAkBV,IAAeW,EAAUC,EAAWZ,CAAY,CAAC,EAAE,YAAgB,IAAA;AAGvF,SAAA,gBAAAa,EAAA;AAAA,IAACC;AAAA,IAAA;AAAA,MACG,QAAAZ;AAAA,MACA,UAAAC;AAAA,MACA,gBAAAI;AAAA,MACA,WAAW,CAAC,CAACP,KAAgBI;AAAA,MAC7B,SAAAC;AAAA,MACA,UAAAC;AAAA,IAAA;AAAA,IAEA,gBAAAO,EAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACI,GAAGL;AAAA,QACJ,MAAK;AAAA,QACL,IAAIO,EAAchB,CAAE;AAAA,QACpB,UAAAI;AAAA,QACA,WAAWa,EAAM;AAAA,UACb;AAAA,UACA,CAAChB,KAAgB;AAAA,UACjBG,KAAY;AAAA,QAAA,CACf;AAAA,MAAA;AAAA,MAED,gBAAAU,EAAA;AAAA,QAACI;AAAA,QAAA;AAAA,UACG,OACIjB,IAAe,gBAAAa,EAAA,cAACK,GAAgB,EAAA,QAAAjB,GAAgB,cAAAD,EAA4B,CAAA,IAAK;AAAA,UAErF,WACIA,IACI,gBAAAa,EAAA;AAAA,YAAC;AAAA,YAAA;AAAA,cACG,WAAWG,EAAM;AAAA,gBACb;AAAA,gBACAb,KAAY;AAAA,cAAA,CACf;AAAA,cACD,OAAO,EAAE,iBAAAO,EAAgB;AAAA,YAAA;AAAA,UAC7B,IAEC,gBAAAG,EAAA,cAAA,QAAA,EAAK,WAAU,mBAAA,mCACXM,GAAY,EAAA,MAAMC,EAAS,OAAQ,CAAA,CACxC;AAAA,QAAA;AAAA,MAGZ;AAAA,IACJ;AAAA,EAAA;AAGZ;AACAtB,EAAkB,cAAc;"}