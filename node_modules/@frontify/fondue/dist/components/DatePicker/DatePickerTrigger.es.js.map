{"version":3,"file":"DatePickerTrigger.es.js","sources":["../../../src/components/DatePicker/DatePickerTrigger.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { TextInput } from '@components/TextInput';\nimport { IconCalendar } from '@foundation/Icon/Generated';\nimport { IconCaretDown, IconCaretUp, IconSize } from '@foundation/Icon/index';\nimport { merge } from '@utilities/merge';\nimport { Validation } from '@utilities/validation';\nimport React, { ReactNode, forwardRef } from 'react';\n\ntype DatePickerTriggerProps = {\n    placeHolder?: string;\n    value?: string;\n    isClearable?: boolean;\n    isCalendarOpen?: boolean;\n    onClick?: () => void;\n    validation?: Validation;\n    onDateChanged?: ((date: [Date | null, Date | null] | null) => void) | ((date: Date | null) => void);\n    children?: ReactNode;\n};\n\nexport const DatePickerTrigger = forwardRef<HTMLDivElement, DatePickerTriggerProps>(\n    (\n        { value, onClick, isClearable, placeHolder, isCalendarOpen, validation = Validation.Default, onDateChanged },\n        ref,\n    ) => {\n        const isWarningOrErrorValidationState = validation === Validation.Error || validation === Validation.Warning;\n\n        const twoSlotsAwayFromRightEdge = 'tw-right-14';\n        const oneSlotAwayFromRightEdge = 'tw-right-8';\n        const zeroSlotsAwayFromRightEdge = 'tw-right-4';\n\n        const carrotRightSideTWPositionClassByOffset = (slotsOffsetFromRighSide: number): string => {\n            switch (slotsOffsetFromRighSide) {\n                case 0:\n                    return zeroSlotsAwayFromRightEdge;\n                case 1:\n                    return oneSlotAwayFromRightEdge;\n                case 2:\n                    return twoSlotsAwayFromRightEdge;\n            }\n            return '';\n        };\n\n        const carrotOffsetForClearButton = value && isClearable ? 1 : 0;\n        const carrotOffsetForValidationErrorIcon = isWarningOrErrorValidationState ? 1 : 0;\n\n        const carrotRightSideTWPositionClass = carrotRightSideTWPositionClassByOffset(\n            carrotOffsetForClearButton + carrotOffsetForValidationErrorIcon,\n        );\n\n        /* eslint-disable jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */\n        return (\n            <div ref={ref} aria-hidden=\"true\">\n                <div\n                    className={merge([\n                        'tw-absolute tw-top-2 tw-text-black-60 tw-z-[1]',\n                        carrotRightSideTWPositionClass,\n                    ])}\n                >\n                    {isCalendarOpen ? <IconCaretUp size={IconSize.Size20} /> : <IconCaretDown size={IconSize.Size20} />}\n                </div>\n                <div\n                    className={merge([\n                        'tw-absolute tw-top-0 tw-left-0 tw-bottom-0 tw-z-10',\n                        carrotRightSideTWPositionClass,\n                    ])}\n                    onClick={onClick}\n                    data-test-id=\"open-close-click-zone\"\n                ></div>\n                <TextInput\n                    decorator={<IconCalendar />}\n                    placeholder={placeHolder}\n                    value={value}\n                    clearable={isClearable}\n                    onEnterPressed={onClick}\n                    onClear={() => {\n                        onDateChanged && onDateChanged(null);\n                    }}\n                    validation={validation}\n                />\n            </div>\n        );\n        /* eslint-enable jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */\n    },\n);\n\nDatePickerTrigger.displayName = 'FondueDatePickerTrigger';\n"],"names":["DatePickerTrigger","forwardRef","value","onClick","isClearable","placeHolder","isCalendarOpen","validation","Validation","onDateChanged","ref","isWarningOrErrorValidationState","twoSlotsAwayFromRightEdge","oneSlotAwayFromRightEdge","zeroSlotsAwayFromRightEdge","carrotRightSideTWPositionClass","slotsOffsetFromRighSide","React","merge","IconCaretUp","IconSize","IconCaretDown","TextInput","IconCalendar"],"mappings":";;;;;;;;AAoBO,MAAMA,IAAoBC;AAAA,EAC7B,CACI,EAAE,OAAAC,GAAO,SAAAC,GAAS,aAAAC,GAAa,aAAAC,GAAa,gBAAAC,GAAgB,YAAAC,IAAaC,EAAW,SAAS,eAAAC,EAAc,GAC3GC,MACC;AACD,UAAMC,IAAkCJ,MAAeC,EAAW,SAASD,MAAeC,EAAW,SAE/FI,IAA4B,eAC5BC,IAA2B,cAC3BC,IAA6B,cAiB7BC,KAfyC,CAACC,MAA4C;AACxF,cAAQA,GAAyB;AAAA,QAC7B,KAAK;AACM,iBAAAF;AAAA,QACX,KAAK;AACM,iBAAAD;AAAA,QACX,KAAK;AACM,iBAAAD;AAAA,MACf;AACO,aAAA;AAAA,IAAA;AAAA,OAGwBV,KAASE,IAAc,IAAI,MACnBO,IAAkC,IAAI;AAAA,IAGhD;AAIjC,WACK,gBAAAM,EAAA,cAAA,OAAA,EAAI,KAAAP,GAAU,eAAY,UACvB,gBAAAO,EAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAWC,EAAM;AAAA,UACb;AAAA,UACAH;AAAA,QAAA,CACH;AAAA,MAAA;AAAA,MAEAT,IAAkB,gBAAAW,EAAA,cAAAE,GAAA,EAAY,MAAMC,EAAS,OAAQ,CAAA,IAAM,gBAAAH,EAAA,cAAAI,GAAA,EAAc,MAAMD,EAAS,QAAQ;AAAA,IAErG,GAAA,gBAAAH,EAAA;AAAA,MAAC;AAAA,MAAA;AAAA,QACG,WAAWC,EAAM;AAAA,UACb;AAAA,UACAH;AAAA,QAAA,CACH;AAAA,QACD,SAAAZ;AAAA,QACA,gBAAa;AAAA,MAAA;AAAA,IAEjB,GAAA,gBAAAc,EAAA;AAAA,MAACK;AAAA,MAAA;AAAA,QACG,2CAAYC,GAAa,IAAA;AAAA,QACzB,aAAalB;AAAA,QACb,OAAAH;AAAA,QACA,WAAWE;AAAA,QACX,gBAAgBD;AAAA,QAChB,SAAS,MAAM;AACX,UAAAM,KAAiBA,EAAc,IAAI;AAAA,QACvC;AAAA,QACA,YAAAF;AAAA,MAAA;AAAA,IAAA,CAER;AAAA,EAGR;AACJ;AAEAP,EAAkB,cAAc;"}