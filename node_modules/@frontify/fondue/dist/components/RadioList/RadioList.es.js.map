{"version":3,"file":"RadioList.es.js","sources":["../../../src/components/RadioList/RadioList.tsx"],"sourcesContent":["/* (c) Copyright Frontify Ltd., all rights reserved. */\n\nimport { Tooltip, TooltipAlignment, TooltipPosition } from '@components/Tooltip';\nimport IconQuestionMarkCircle from '@foundation/Icon/Generated/IconQuestionMarkCircle';\nimport { IconSize } from '@foundation/Icon';\nimport { generateRandomId } from '@utilities/generateRandomId';\nimport { merge } from '@utilities/merge';\nimport React, { Children, ReactNode, isValidElement, useEffect, useRef, useState } from 'react';\nimport { RadioButtonEmphasis, RadioButtonProps } from './RadioButton';\n\nexport enum RadioListDirection {\n    Horizontal = 'Horizontal',\n    Vertical = 'Vertical',\n}\n\nexport type RadioListProps = {\n    children: ReactNode;\n    onChange?: (value: string) => void;\n    direction?: RadioListDirection;\n    defaultValue?: string;\n    ariaLabel?: string;\n};\n\nexport const RadioList = ({\n    children,\n    defaultValue,\n    direction = RadioListDirection.Horizontal,\n    onChange,\n    ariaLabel,\n}: RadioListProps) => {\n    const radioGroupRef = useRef<HTMLDivElement | null>(null);\n\n    const [activeValue, setActiveValue] = useState(defaultValue);\n\n    const radioButtons: RadioButtonProps[] =\n        Children.map(children, (child) => {\n            if (!isValidElement<RadioButtonProps>(child)) {\n                return null;\n            }\n            return child?.props;\n        }) ?? [];\n\n    useEffect(() => {\n        setActiveValue(defaultValue);\n    }, [defaultValue]);\n\n    useEffect(() => {\n        if (radioGroupRef.current) {\n            const activeRadioButton = radioGroupRef.current.querySelector(`input[value=\"${activeValue}\"]`);\n            if (activeRadioButton) {\n                (activeRadioButton as HTMLDivElement).focus();\n            }\n        }\n    }, [activeValue]);\n\n    return (\n        <div\n            data-test-id=\"radio-list-wrapper\"\n            role=\"radiogroup\"\n            aria-label={ariaLabel ?? 'Choose an option'}\n            ref={radioGroupRef}\n            className={merge(['tw-flex', direction === RadioListDirection.Horizontal ? 'tw-gap-4' : 'tw-flex-col'])}\n        >\n            {radioButtons.map((radio) => {\n                const id = generateRandomId();\n                return (\n                    <div className=\"tw-flex tw-items-center tw-mb-2\" key={id}>\n                        <input\n                            data-test-id=\"radio-input\"\n                            disabled={radio.disabled}\n                            id={id}\n                            type=\"radio\"\n                            name=\"default-radio\"\n                            value={radio.value}\n                            aria-label=\"radio\"\n                            aria-checked={radio.value === activeValue}\n                            defaultChecked={radio.value === activeValue}\n                            className={merge([\n                                'tw-peer tw-form-radio w-w-4 tw-h-4 tw-border-black-60 disabled:tw-border-black-10 focus:tw-ring-0 focus:tw-ring-offset-0 focus-visible:tw-ring-2 focus-visible:tw-ring-offset-2',\n                                radio.emphasis === RadioButtonEmphasis.Weak\n                                    ? 'tw-text-black-80'\n                                    : 'tw-text-box-selected-strong',\n                            ])}\n                            onChange={() => {\n                                setActiveValue(radio.value);\n                                if (onChange) {\n                                    onChange(radio.value);\n                                }\n                            }}\n                        />\n                        {!radio.hideLabel && (\n                            <label\n                                data-test-id=\"radio-label\"\n                                htmlFor={id}\n                                className={merge([\n                                    'tw-flex tw-flex-col tw-pl-2 tw-text-sm tw-font-normal peer-checked:tw-font-medium tw-text-black-80 peer-disabled:tw-text-black-40',\n                                ])}\n                            >\n                                {radio.value}\n                                {radio.helperText && (\n                                    <span className=\"tw-text-black-80 tw-font-normal\">{radio.helperText}</span>\n                                )}\n                            </label>\n                        )}\n                        {radio.tooltip && (\n                            <Tooltip\n                                alignment={TooltipAlignment.Middle}\n                                content={radio.tooltip}\n                                hoverDelay={75}\n                                position={TooltipPosition.Top}\n                                triggerElement={\n                                    <button className=\"tw-flex tw-text-black-80 tw-mx-2 tw-self-center\">\n                                        <IconQuestionMarkCircle size={IconSize.Size16} />\n                                    </button>\n                                }\n                                withArrow\n                            />\n                        )}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n"],"names":["RadioListDirection","RadioList","children","defaultValue","direction","onChange","ariaLabel","radioGroupRef","useRef","activeValue","setActiveValue","useState","radioButtons","Children","child","isValidElement","useEffect","activeRadioButton","React","merge","radio","id","generateRandomId","RadioButtonEmphasis","Tooltip","TooltipAlignment","TooltipPosition","IconQuestionMarkCircle","IconSize"],"mappings":";;;;;;;AAUY,IAAAA,sBAAAA,OACRA,EAAA,aAAa,cACbA,EAAA,WAAW,YAFHA,IAAAA,KAAA,CAAA,CAAA;AAaL,MAAMC,IAAY,CAAC;AAAA,EACtB,UAAAC;AAAA,EACA,cAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,UAAAC;AAAA,EACA,WAAAC;AACJ,MAAsB;AACZ,QAAAC,IAAgBC,EAA8B,IAAI,GAElD,CAACC,GAAaC,CAAc,IAAIC,EAASR,CAAY,GAErDS,IACFC,EAAS,IAAIX,GAAU,CAACY,MACfC,EAAiCD,CAAK,IAGpCA,KAAA,gBAAAA,EAAO,QAFH,IAGd,KAAK,CAAA;AAEV,SAAAE,EAAU,MAAM;AACZ,IAAAN,EAAeP,CAAY;AAAA,EAAA,GAC5B,CAACA,CAAY,CAAC,GAEjBa,EAAU,MAAM;AACZ,QAAIT,EAAc,SAAS;AACvB,YAAMU,IAAoBV,EAAc,QAAQ,cAAc,gBAAgBE,KAAe;AAC7F,MAAIQ,KACCA,EAAqC,MAAM;AAAA,IAEpD;AAAA,EAAA,GACD,CAACR,CAAW,CAAC,GAGZ,gBAAAS,EAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACG,gBAAa;AAAA,MACb,MAAK;AAAA,MACL,cAAYZ,KAAa;AAAA,MACzB,KAAKC;AAAA,MACL,WAAWY,EAAM,CAAC,WAAWf,MAAc,eAAgC,aAAa,aAAa,CAAC;AAAA,IAAA;AAAA,IAErGQ,EAAa,IAAI,CAACQ,MAAU;AACzB,YAAMC,IAAKC;AACX,aACK,gBAAAJ,EAAA,cAAA,OAAA,EAAI,WAAU,mCAAkC,KAAKG,KAClD,gBAAAH,EAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACG,gBAAa;AAAA,UACb,UAAUE,EAAM;AAAA,UAChB,IAAAC;AAAA,UACA,MAAK;AAAA,UACL,MAAK;AAAA,UACL,OAAOD,EAAM;AAAA,UACb,cAAW;AAAA,UACX,gBAAcA,EAAM,UAAUX;AAAA,UAC9B,gBAAgBW,EAAM,UAAUX;AAAA,UAChC,WAAWU,EAAM;AAAA,YACb;AAAA,YACAC,EAAM,aAAaG,EAAoB,OACjC,qBACA;AAAA,UAAA,CACT;AAAA,UACD,UAAU,MAAM;AACZ,YAAAb,EAAeU,EAAM,KAAK,GACtBf,KACAA,EAASe,EAAM,KAAK;AAAA,UAE5B;AAAA,QAAA;AAAA,MACJ,GACC,CAACA,EAAM,aACJ,gBAAAF,EAAA;AAAA,QAAC;AAAA,QAAA;AAAA,UACG,gBAAa;AAAA,UACb,SAASG;AAAA,UACT,WAAWF,EAAM;AAAA,YACb;AAAA,UAAA,CACH;AAAA,QAAA;AAAA,QAEAC,EAAM;AAAA,QACNA,EAAM,cACH,gBAAAF,EAAA,cAAC,UAAK,WAAU,kCAAA,GAAmCE,EAAM,UAAW;AAAA,MAAA,GAI/EA,EAAM,WACH,gBAAAF,EAAA;AAAA,QAACM;AAAA,QAAA;AAAA,UACG,WAAWC,EAAiB;AAAA,UAC5B,SAASL,EAAM;AAAA,UACf,YAAY;AAAA,UACZ,UAAUM,EAAgB;AAAA,UAC1B,gBACK,gBAAAR,EAAA,cAAA,UAAA,EAAO,WAAU,kDAAA,mCACbS,GAAuB,EAAA,MAAMC,EAAS,OAAQ,CAAA,CACnD;AAAA,UAEJ,WAAS;AAAA,QAAA;AAAA,MAAA,CAGrB;AAAA,IAAA,CAEP;AAAA,EAAA;AAGb;"}